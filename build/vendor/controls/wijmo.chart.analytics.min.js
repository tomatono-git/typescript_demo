/*
    *
    * Wijmo Library 5.20172.359
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),wijmo;(function(n){var t;(function(t){var i;(function(i){'use strict';var r=function(i){function r(n){var r=i.call(this)||this;return r._chartType=t.ChartType.Line,r._sampleCount=100,r.initialize(n),r}return __extends(r,i),Object.defineProperty(r.prototype,"sampleCount",{get:function(){return this._sampleCount},set:function(t){t=n.asNumber(t,!1,!0);t!=this._sampleCount&&(this._sampleCount=t,this._invalidate())},enumerable:!0,configurable:!0}),r.prototype.approximate=function(){return 0},r.prototype.getValues=function(n){var t=this,r=t.binding,u=t.bindingX;return(r!==t._bind&&(t._bind=r,t.binding=r),u!==t._bindX&&(t._bindX=u,t.bindingX=u),t._originYValues==null&&(t._originYValues=i.prototype.getValues.call(this,0)),t._originXValues==null&&(t._originXValues=i.prototype.getValues.call(this,1)),t._originXValues==null||t._originYValues==null)?null:(i.prototype.getValues.call(this,n),(t._xValues==null||t._yValues==null)&&t._calculateValues(),n===0)?t._yValues||null:n===1?t._xValues||null:void 0},r.prototype._calculateValues=function(){},r.prototype._invalidate=function(){i.prototype._invalidate.call(this);this._clearCalculatedValues()},r.prototype._clearValues=function(){i.prototype._clearValues.call(this);this._originXValues=null;this._originYValues=null;this._clearCalculatedValues()},r.prototype._clearCalculatedValues=function(){this._xValues=null;this._yValues=null},r}(t.SeriesBase);i.TrendLineBase=r})(i=t.analytics||(t.analytics={}))})(t=n.chart||(n.chart={}))})(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(t){'use strict';var i=function(){function t(){}return t.round=function(n,t){if(!n)return 0;var i=Math.pow(10,t||2);return Math.round(n*i)/i},t.avg=function(n){var i=t.sum(n);return i/n.length},t.sum=function(t){return t=n.asArray(t,!1),t.reduce(function(n,t){return n+t},0)},t.sumOfPow=function(t,i){return t=n.asArray(t,!1),i=n.asNumber(i,!1),t.reduce(function(n,t){return n+Math.pow(t,i)},0)},t.sumProduct=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var s=i.length,e=0,o=[],u,f;for(i=n.asArray(i,!1),i.forEach(function(t,i){t=n.asArray(t,!1);i===0?e=t.length:n.assert(t.length===e,'The length of the arrays must be equal')}),u=0;u<e;u++)f=1,i.some(function(t){var i=t[u];if(i&&n.isNumber(i))f*=i;else return f=0,!0}),o.push(f);return t.sum(o)},t.variance=function(i){i=n.asArray(i,!1);var u=t.avg(i),r;return r=i.map(function(n){return n-u}),t.sumOfSquares(r)/(i.length-1)},t.covariance=function(i,r){i=n.asArray(i,!1);r=n.asArray(r,!1);n.assert(i.length===r.length,'Length of arrays must be equal');for(var o=t.avg(i),s=t.avg(r),f=i.length,e=0,u=0;u<f;u++)e+=(i[u]-o)*(r[u]-s)/f;return e},t}(),f,e;i.min=function(t){return Math.min.apply(Math,n.asArray(t,!1))};i.max=function(t){return Math.max.apply(Math,n.asArray(t,!1))};i.square=function(t){return Math.pow(n.asNumber(t,!1),2)};i.sumOfSquares=function(n){return i.sumOfPow(n,2)};i.stdDev=function(n){return Math.sqrt(i.variance(n))},function(n){n[n.Linear=0]="Linear";n[n.Exponential=1]="Exponential";n[n.Logarithmic=2]="Logarithmic";n[n.Power=3]="Power";n[n.Fourier=4]="Fourier";n[n.Polynomial=5]="Polynomial";n[n.MinX=6]="MinX";n[n.MinY=7]="MinY";n[n.MaxX=8]="MaxX";n[n.MaxY=9]="MaxY";n[n.AverageX=10]="AverageX";n[n.AverageY=11]="AverageY"}(f=t.TrendLineFitType||(t.TrendLineFitType={}));e=function(t){function i(n){var i=t.call(this)||this;return i._fitType=f.Linear,i._order=2,i.initialize(n),i}return __extends(i,t),Object.defineProperty(i.prototype,"fitType",{get:function(){return this._fitType},set:function(t){t=n.asEnum(t,f,!1);t!=this._fitType&&(this._fitType=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"order",{get:function(){return this._order},set:function(t){t!=this._order&&(this._order=n.asNumber(t,!1,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"coefficients",{get:function(){return this._helper?this._helper.coefficients:null},enumerable:!0,configurable:!0}),i.prototype.approximate=function(n){return this._helper?this._helper.approximate(n):NaN},i.prototype.getEquation=function(n){var t=this._helper?this._helper.getEquation(n):'';return t.replace(/\S(\+|\-)\d/g,function(n){return n[0]+' '+n[1]+' '+n[2]})},i.prototype._calculateValues=function(){var u=f[this._fitType],t,i,n,r;s[u]&&(t=!1,i=this._originXValues,this._chart._xvals.length==0&&this._chart._xlabels.length>0&&(i=this._originXValues.map(function(n){return n+1}),t=!0),n=new s[u](this._originYValues,i,this.sampleCount,this.order),n._isXString=t,r=n.calculateValues(),this._yValues=r[0],this._xValues=r[1],this._helper=n)},i}(t.TrendLineBase);t.TrendLine=e;var h=function(){function n(n,t){this._x=n;this._y=t}return Object.defineProperty(n.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minX",{get:function(){return this._minX==null&&(this._minX=i.min(this._x)),this._minX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minY",{get:function(){return this._minY==null&&(this._minY=i.min(this._y)),this._minY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxX",{get:function(){return this._maxX==null&&(this._maxX=i.max(this._x)),this._maxX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxY",{get:function(){return this._maxY==null&&(this._maxY=i.max(this._y)),this._maxY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"averageX",{get:function(){return this._averageX==null&&(this._averageX=i.avg(this._x)),this._averageX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"averageY",{get:function(){return this._averageY==null&&(this._averageY=i.avg(this._y)),this._averageY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumX",{get:function(){return this._sumX==null&&(this._sumX=i.sum(this._x)),this._sumX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumY",{get:function(){return this._sumY==null&&(this._sumY=i.sum(this._y)),this._sumY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"LogX",{get:function(){return this._logX==null&&(this._logX=this._x.map(function(n){return Math.log(n)})),this._logX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"LogY",{get:function(){return this._logY==null&&(this._logY=this._y.map(function(n){return Math.log(n)})),this._logY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumLogX",{get:function(){return this._sumLogX==null&&(this._sumLogX=i.sum(this.LogX)),this._sumLogX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumLogY",{get:function(){return this._sumLogY==null&&(this._sumLogY=i.sum(this.LogY)),this._sumLogY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumOfSquareX",{get:function(){return this._sumOfSquareX==null&&(this._sumOfSquareX=i.sumOfSquares(this._x)),this._sumOfSquareX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumOfSquareY",{get:function(){return this._sumOfSquareY==null&&(this._sumOfSquareY=i.sumOfSquares(this._y)),this._sumOfSquareY},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumOfSquareLogX",{get:function(){return this._sumOfSquareLogX==null&&(this._sumOfSquareLogX=i.sumOfSquares(this.LogX)),this._sumOfSquareLogX},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"sumOfSquareLogY",{get:function(){return this._sumOfSquareLogY==null&&(this._sumOfSquareLogY=i.sumOfSquares(this.LogY)),this._sumOfSquareLogY},enumerable:!0,configurable:!0}),n.prototype.sumProduct=function(n,t){return this._sumProduct==null&&(this._sumProduct=i.sumProduct(n,t)),this._sumProduct},n}(),r=function(){function t(t,i,r){this._coefficients=[];this.y=n.asArray(t);this.x=n.asArray(i);n.assert(t.length===i.length,'Length of X and Y arrays are not equal');this.count=r||t.length;this._calculator=new h(i,t);this.xMin=this._calculator.minX;this.xMax=this._calculator.maxX}return Object.defineProperty(t.prototype,"calculator",{get:function(){return this._calculator},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){t!==this.y&&(this._y=n.asArray(t,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){t!==this.x&&(this._x=n.asArray(t,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._count},set:function(t){t!==this.count&&(this._count=n.asInt(t,!1,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xMin",{get:function(){return this._xMin},set:function(t){t!==this.xMin&&(this._xMin=n.asNumber(t,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xMax",{get:function(){return this._xMax},set:function(t){t!==this.xMax&&(this._xMax=n.asNumber(t,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"coefficients",{get:function(){return this._coefficients},enumerable:!0,configurable:!0}),t.prototype._calculateCoefficients=function(){var n=this.calcB(),t=this.calcA(n);this._coefficients.push(t,n)},t.prototype.calculateValues=function(){for(var t,r,u=(this.xMax-this.xMin)/(this.count-1),n=[[],[]],i=0;i<this.count;i++)t=this.xMin+u*i,r=this.calcY(t),n[0].push(r),this._isXString?n[1].push(t-1):n[1].push(t);return n},t.prototype.calcA=function(n){var t=this.y.length,i=this.calculator.sumX,r=this.calculator.sumY,n=n?n:this.calcB();return(r-n*i)/t},t.prototype.calcB=function(){var t=this.y.length,n=this.calculator,u=n.sumProduct(n.x,n.y),r=n.sumX,f=n.sumY,e=n.sumOfSquareX;return(t*u-r*f)/(t*e-i.square(r))},t.prototype.calcY=function(n){var t=this.coefficients;return t[0]+t[1]*n},t.prototype.approximate=function(n){return this.calcY(n)},t.prototype.getEquation=function(n){var n=n?n:this._defaultEquationFmt;return this._getEquation(n)},t.prototype._getEquation=function(n){var i=this.coefficients,t=[];return i.forEach(function(i){t.push(n(i))}),this._concatEquation(t)},t.prototype._concatEquation=function(){return''},t.prototype._defaultEquationFmt=function(n){var r,t,i=Math.abs(n),u=String(i),f=0;return i>=1e5?(t=String(Math.round(i)).length-1,r=Math.round(n/Number('1e'+t)),r+'e'+t):i<.0001?(t=u.indexOf('e')>-1?Math.abs(+u.substring(u.indexOf('e')+1)):u.match(/\.0+/)[0].length,r=Math.round(n*Number('1e'+t)),r+'e-'+t):(f=n>0?6:7,i>=1e4&&f--,String(+String(n).substring(0,f)))},t}(),c=function(t){function i(n,i,r,u){var f=t.call(this,n,i,r)||this;return f._calculateCoefficients(),f.yOffset=u,f}return __extends(i,t),Object.defineProperty(i.prototype,"yOffset",{get:function(){return this._yOffset},set:function(t){t!==this.yOffset&&(this._yOffset=n.asNumber(t,!0))},enumerable:!0,configurable:!0}),i.prototype.calcA=function(n){return this.yOffset!=null?this.yOffset:t.prototype.calcA.call(this,n)},i.prototype.calcB=function(){return this.yOffset!=null?this._calculateBSimple():t.prototype.calcB.call(this)},i.prototype._calculateBSimple=function(){var n=this.calculator,t=n.sumProduct(n.x,n.y),i=n.sumX,r=n.sumOfSquareX;return(t-this.yOffset*i)/r},i.prototype._calculateCoefficients=function(){var n=this.calcB(),t=this.calcA(n);this.coefficients.push(n,t)},i.prototype.calcY=function(n){var t=this.coefficients;return t[0]*n+t[1]},i.prototype._concatEquation=function(n){return'y = '+n[0]+'x'+(this.coefficients[1]>=0?'+':'')+n[1]},i}(r),l=function(n){function t(t,i,r){var u=n.call(this,t,i,r)||this;return u._calculateCoefficients(),u}return __extends(t,n),t.prototype.calcA=function(n){var i=this.y.length,t=this.calculator,r=t.sumY,u=t.sumLogX,n=n?n:this.calcB();return(r-n*u)/i},t.prototype.calcB=function(){var t=this.y.length,n=this.calculator,u=n.sumProduct(n.y,n.LogX),f=n.sumY,r=n.sumLogX,e=n.sumOfSquareLogX;return(t*u-f*r)/(t*e-i.square(r))},t.prototype._calculateCoefficients=function(){var n=this.calcB(),t=this.calcA(n);this.coefficients.push(n,t)},t.prototype.calcY=function(n){var t=this.coefficients;return Math.log(n)*t[0]+t[1]},t.prototype._concatEquation=function(n){return'y = '+n[0]+'ln(x)'+(this.coefficients[1]>=0?'+':'')+n[1]},t}(r),a=function(n){function t(t,i,r){var u=n.call(this,t,i,r)||this;return u._calculateCoefficients(),u}return __extends(t,n),t.prototype.calcA=function(){var u=this.y.length,n=this.calculator,f=n.sumLogY,t=n.sumOfSquareX,r=n.sumX,e=n.sumProduct(n.x,n.LogY);return Math.exp((f*t-r*e)/(u*t-i.square(r)))},t.prototype.calcB=function(){var t=this.y.length,n=this.calculator,u=n.sumLogY,f=n.sumOfSquareX,r=n.sumX,e=n.sumProduct(n.x,n.LogY);return(t*e-r*u)/(t*f-i.square(r))},t.prototype.calcY=function(n){var t=this.coefficients;return t[0]*Math.exp(t[1]*n)},t.prototype._concatEquation=function(n){return'y = '+n[0]+'e<sup>'+n[1]+'x</sup>'},t}(r),v=function(n){function t(t,i,r){var u=n.call(this,t,i,r)||this;return u._calculateCoefficients(),u}return __extends(t,n),t.prototype.calcA=function(n){var t=this.calculator,i=this.y.length,r=t.sumLogX,u=t.sumLogY,n=n?n:this.calcB();return Math.exp((u-n*r)/i)},t.prototype.calcB=function(){var t=this.y.length,n=this.calculator,u=n.sumProduct(n.LogX,n.LogY),r=n.sumLogX,f=n.sumLogY,e=n.sumOfSquareLogX;return(t*u-r*f)/(t*e-i.square(r))},t.prototype.calcY=function(n){var t=this.coefficients;return t[0]*Math.pow(n,t[1])},t.prototype._concatEquation=function(n){return'y = '+n[0]+'x<sup>'+n[1]+'</sup>'},t}(r),o=function(t){function i(n,i,r,u){var f=t.call(this,n,i,r)||this;return f._order=u==null?2:u,f._basis=[],f._calculateCoefficients(),f}return __extends(i,t),Object.defineProperty(i.prototype,"basis",{get:function(){return this._basis},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"order",{get:function(){return this._order},set:function(t){this._order=n.asNumber(t,!0)},enumerable:!0,configurable:!0}),i.prototype._calculateCoefficients=function(){this._coefficients.length=this.order;this._createBasis();this._normalizeAndSolveGauss()},i.prototype._createBasis=function(){var n=this.x.length,t=this.order;if(n<2)throw"Incompatible data: Less than 2 data points.";if(t<1)throw"Incompatible data: Less than 1 coefficient in the fit";if(t>n)throw"Incompatible data: Number of data points less than number of terms";},i.prototype._normalizeAndSolveGauss=function(){var n=[];if(this._computeNormalEquations(n),this._genDefValForArray(n,0),!this._solveGauss(n))throw'Incompatible data: No solution.';},i.prototype._genDefValForArray=function(n,t){var i=n.length+1;n.forEach(function(n){for(var r=0;r<i;r++)n[r]==null&&(n[r]=t)})},i.prototype._computeNormalEquations=function(n){for(var o=this.y,f=this.basis,e=this.order,s=o.length,i,r,u,t=0;t<e;t++)for(r=0,n[t]==null&&(n[t]=[]),o.forEach(function(n,i){r+=n*f[i][t]}),n[t][e]=r,i=t;i<e;i++){for(r=0,u=0;u<s;u++)r+=f[u][i]*f[u][t];n[i]==null&&(n[i]=[]);n[i][t]=r;n[t][i]=r}},i.prototype._solveGauss=function(n){var r=n.length,e=0,u=this._coefficients,f=!0,i,t;if(u.length<r||n[0].length<r+1)throw'Dimension of matrix is not correct.';if(n.some(function(i,u){var o=u,h=Math.abs(i[u]),c,s;for(t=u+1;t<r;t++)c=Math.abs(n[t][u]),h<c&&(h=c,o=t);if(h>e){for(t=u;t<=r;t++)s=n[u][t],n[u][t]=n[o][t],n[o][t]=s;for(o=u+1;o<r;o++)for(s=n[o][u]/i[u],n[o][u]=0,t=u+1;t<=r;t++)n[o][t]-=s*i[t]}else return f=!1,!0}),f)for(i=r-1;i>=0;i--){for(u[i]=n[i][r],t=i+1;t<r;t++)u[i]-=n[i][t]*u[t];u[i]=u[i]/n[i][i]}return f},i}(r),y=function(n){function t(t,i,r,u){return n.call(this,t,i,r,u)||this}return __extends(t,n),Object.defineProperty(t.prototype,"coefficients",{get:function(){return this._coefficients.slice(0).reverse()},enumerable:!0,configurable:!0}),t.prototype.calcY=function(n){var r=this._coefficients,t=0,i=1;return r.forEach(function(r,u){u>0&&(i*=n);t+=r*i}),t},t.prototype._calculateCoefficients=function(){var i=this._coefficients,t=!1;this.order++;t&&i.pop();n.prototype._calculateCoefficients.call(this);t;this.order--},t.prototype._createBasis=function(){n.prototype._createBasis.call(this);var i=this.x,t=this.basis,r=this.order;i.forEach(function(n,i){t[i]=[1];for(var u=1;u<=r;u++)t[i][u]=n*t[i][u-1]})},t.prototype._concatEquation=function(n){var t='y = ',r=n.length,i=this.coefficients;return n.forEach(function(n,u){var e=r-1-u,f;e===0?t+=n:e===1?(f=i[u+1]>=0?'+':'',t+=n+'x'+f):(f=i[u+1]>=0?'+':'',t+=n+'x<sup>'+e+'</sup>'+f)}),t},t}(o),p=function(n){function t(t,i,r,u){var f=this;return u=u==null?i.length:u,n.call(this,t,i,r,u)||this}return __extends(t,n),t.prototype._createBasis=function(){n.prototype._createBasis.call(this);var i=this.x,t=this.basis,r=this.order;i.forEach(function(n,i){var u,f;for(t[i]=[1],u=1;u<r;u++)f=Math.floor((u+1)/2),u%2==1?t[i].push(Math.cos(f*n)):t[i].push(Math.sin(f*n))})},t.prototype.calcY=function(n){var i=this._coefficients,t;return i.forEach(function(i,r){var f=Math.floor((r+1)/2),u;r===0?t=i:(u=f*n,t+=r%2==1?i*Math.cos(u):i*Math.sin(u))}),t},t.prototype._concatEquation=function(n){var t='y = ',i=n.length,r=this.coefficients;return n.forEach(function(n,u){var e=u===i-1?'':r[u+1]>=0?'+':'',f='',o=Math.ceil(u/2);u===0?t+=n+e:(f=u%2==1?'cos':'sin',f+='('+(o===1?'':String(o))+'x)',t+=n+f+e)}),t},t}(o),u=function(n){function t(t,i,r){var u=n.call(this,t,i,r)||this;return u._calculateCoefficients(),u}return __extends(t,n),t.prototype._setVal=function(n){this._val=n},t.prototype.calcY=function(){return this._val},t}(r),w=function(n){function t(t,i,r){return n.call(this,t,i,r)||this}return __extends(t,n),t.prototype.calculateValues=function(){var n=this.xMin,u=i.min(this.y),f=i.max(this.y),t,r;return this._isXString&&(n=n-1),t=[n,n],r=[u,f],this._setVal(n),[r,t]},t.prototype.getEquation=function(n){var t=this.xMin;return this._isXString&&(t=t-1),n&&(t=n(t)),'x = '+t},t}(u),b=function(n){function t(t,i,r){return n.call(this,t,i,r)||this}return __extends(t,n),t.prototype.calculateValues=function(){var n=this.xMin,t=this.xMax,r=i.min(this.y),u,f;return this._isXString&&(n=n-1,t=t-1),u=[n,t],f=[r,r],this._setVal(r),[f,u]},t.prototype.getEquation=function(n){var t=i.min(this.y);return n&&(t=n(t)),'y = '+t},t}(u),k=function(n){function t(t,i,r){return n.call(this,t,i,r)||this}return __extends(t,n),t.prototype.calculateValues=function(){var n=this.xMax,u=i.min(this.y),f=i.max(this.y),t,r;return this._isXString&&(n=n-1),t=[n,n],r=[u,f],this._setVal(n),[r,t]},t.prototype.getEquation=function(n){var t=this.xMax;return this._isXString&&(t=t-1),n&&(t=n(t)),'x = '+t},t}(u),d=function(n){function t(t,i,r){return n.call(this,t,i,r)||this}return __extends(t,n),t.prototype.calculateValues=function(){var n=this.xMin,t=this.xMax,r=i.max(this.y),u,f;return this._isXString&&(n=n-1,t=t-1),u=[n,t],f=[r,r],this._setVal(r),[f,u]},t.prototype.getEquation=function(n){var t=i.max(this.y);return n&&(t=n(t)),'y = '+t},t}(u),g=function(n){function t(t,i,r){return n.call(this,t,i,r)||this}return __extends(t,n),t.prototype.calculateValues=function(){var n=i.avg(this.x),u=i.min(this.y),f=i.max(this.y),t,r;return this._isXString&&(n=n-1),t=[n,n],r=[u,f],this._setVal(n),[r,t]},t.prototype._getEquation=function(n){var t=i.avg(this.x);return this._isXString&&(t=t-1),n&&(t=n(t)),' x ='+t},t.prototype._defaultEquationFmt=function(t){return Math.abs(t)<1e5?n.prototype._defaultEquationFmt.call(this,t):''+i.round(t,2)},t}(u),nt=function(n){function t(t,i,r){return n.call(this,t,i,r)||this}return __extends(t,n),t.prototype.calculateValues=function(){var n=i.avg(this.y),t=this.xMin,r=this.xMax,u,f;return this._isXString&&(t=t-1,r=r-1),u=[t,r],f=[n,n],this._setVal(n),[f,u]},t.prototype._getEquation=function(n){var t=n(i.avg(this.y));return'y = '+t},t.prototype._defaultEquationFmt=function(t){return Math.abs(t)<1e5?n.prototype._defaultEquationFmt.call(this,t):''+i.round(t,2)},t}(u),s={TrendHelperBase:r,Linear:c,Exponential:a,Logarithmic:l,Power:v,Polynomial:y,Fourier:p,MinX:w,MinY:b,MaxX:k,MaxY:d,AverageX:g,AverageY:nt}})(i=t.analytics||(t.analytics={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(t){'use strict';var i=function(t){function i(i){var r=t.call(this)||this;return r._min=0,r._max=1,r.initialize(i),r.itemsSource==null&&(r.itemsSource=[new n.Point(0,0)]),r}return __extends(i,t),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},set:function(t){this._min!==t&&(this._min=n.asNumber(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},set:function(t){this._max!==t&&(this._max=n.asNumber(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype.getValues=function(n){var t=this;return((t._xValues==null||t._yValues==null)&&t._calculateValues(),n===0)?t._yValues||null:n===1?t._xValues||null:void 0},i.prototype._calculateValues=function(){for(var n=this,i=n.sampleCount,u=[],f=[],e=(n.max-n.min)/(i-1),r,t=0;t<i;t++)r=t===i-1?this.max:this.min+e*t,u[t]=n._calculateX(r),f[t]=n._calculateY(r);n._yValues=f;n._xValues=u},i.prototype._validateValue=function(n){return isFinite(n)?n:Number.NaN},i.prototype._calculateValue=function(n,t){var i;try{i=n(t)}catch(r){i=Number.NaN}return this._validateValue(i)},i.prototype._calculateX=function(){return 0},i.prototype._calculateY=function(){return 0},i}(t.TrendLineBase),r,u;t.FunctionSeries=i;r=function(t){function i(n){return t.call(this,n)||this}return __extends(i,t),Object.defineProperty(i.prototype,"func",{get:function(){return this._func},set:function(t){t&&this._func!==t&&(this._func=n.asFunction(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype._calculateX=function(n){return n},i.prototype._calculateY=function(n){return this._calculateValue(this.func,n)},i.prototype.approximate=function(n){return this._calculateValue(this.func,n)},i}(i);t.YFunctionSeries=r;u=function(t){function i(n){return t.call(this,n)||this}return __extends(i,t),Object.defineProperty(i.prototype,"xFunc",{get:function(){return this._xFunc},set:function(t){t&&this._xFunc!==t&&(this._xFunc=n.asFunction(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"yFunc",{get:function(){return this._yFunc},set:function(t){t&&this._yFunc!==t&&(this._yFunc=n.asFunction(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype._calculateX=function(n){return this._calculateValue(this.xFunc,n)},i.prototype._calculateY=function(n){return this._calculateValue(this.yFunc,n)},i.prototype.approximate=function(t){var u=this,i=this._calculateValue(this.xFunc,t),r=this._calculateValue(this.yFunc,t);return new n.Point(i,r)},i}(i);t.ParametricFunctionSeries=u})(i=t.analytics||(t.analytics={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){'use strict';var r,u;(function(n){n[n.Simple=0]="Simple";n[n.Weighted=1]="Weighted";n[n.Exponential=2]="Exponential";n[n.Triangular=3]="Triangular"})(r=i.MovingAverageType||(i.MovingAverageType={}));u=function(i){function u(n){var u=i.call(this)||this;return u._chartType=t.ChartType.Line,u._type=r.Simple,u._period=2,u.initialize(n),u}return __extends(u,i),Object.defineProperty(u.prototype,"type",{get:function(){return this._type},set:function(t){t=n.asEnum(t,r,!1);t!=this._type&&(this._type=n.asEnum(t,r,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"period",{get:function(){return this._period},set:function(t){var t=n.asNumber(t,!1,!0);t!=this._period&&(this._period=n.asNumber(t,!1,!0),this._invalidate())},enumerable:!0,configurable:!0}),u.prototype._checkPeriod=function(){var i=this.period,t=this._originXValues;i<=1&&n.assert(!1,"period must be greater than 1.");t&&t.length&&i>=t.length&&n.assert(!1,"period must be less than itemSource's length.")},u.prototype._calculateValues=function(){var u=this._type,n="_calculate"+r[this._type],t=[],i=[];this._checkPeriod();this[n]&&this[n].call(this,t,i);this._yValues=i;this._xValues=t},u.prototype._calculateSimple=function(n,t,i){var r;i===void 0&&(i=!1);var e=this._originXValues,o=this._originYValues,s=e.length,u=this._period,f=0;for(r=0;r<s;r++)f+=o[r],r>=u&&(f-=o[r-u]),r>=u-1?(n.push(e[r]),t.push(f/u)):i&&(n.push(e[r]),t.push(f/(r+1)))},u.prototype._calculateWeighted=function(n,t){for(var o=this._originXValues,u=this._originYValues,s=o.length,r=this._period,h=r*(r+1)/2,e=0,f=0,i=0;i<s;i++)i>0&&(e+=u[i-1]),i>r&&(e-=u[i-r-1]),i<r-1?f+=u[i]*(i+1):(f+=u[i]*r,i>r-1&&(f-=e),n.push(o[i]),t.push(f/h))},u.prototype._calculateExponential=function(n,t){for(var f=this._originXValues,e=this._originYValues,o=f.length,u=this._period,r=0,i=0;i<o;i++){if(i<=u-2){r+=e[i];i===u-2&&(r/=u-1);continue}r=r+2/(u+1)*(e[i]-r);n.push(f[i]);t.push(r)}},u.prototype._calculateTriangular=function(n,t){var r=this._period,u=[],f=[],e=0,i,o;for(this._calculateSimple(u,f,!0),i=0,o=u.length;i<o;i++)e+=f[i],i>=r&&(e-=f[i-r]),i>=r-1&&(n.push(u[i]),t.push(e/r))},u}(i.TrendLineBase);i.MovingAverage=u})(i=t.analytics||(t.analytics={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){'use strict';var r=function(i){function r(n){var r=i.call(this)||this;return r._startLabel='Start',r._relativeData=!0,r._connectorLines=!1,r._showTotal=!1,r._totalLabel='Total',r._getXValues=!1,r._showIntermediateTotal=!1,r._intermediateTotalPos=[],r._chartType=t.ChartType.Bar,r.rendering.addHandler(r._rendering,r),r.initialize(n),r}return __extends(r,i),Object.defineProperty(r.prototype,"relativeData",{get:function(){return this._relativeData},set:function(t){t!=this._relativeData&&(this._relativeData=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"start",{get:function(){return this._start},set:function(t){t!=this._start&&(this._start=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"startLabel",{get:function(){return this._startLabel},set:function(t){t!=this._startLabel&&(this._startLabel=n.asString(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showTotal",{get:function(){return this._showTotal},set:function(t){t!=this._showTotal&&(this._showTotal=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"totalLabel",{get:function(){return this._totalLabel},set:function(t){t!=this._totalLabel&&(this._totalLabel=n.asString(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"showIntermediateTotal",{get:function(){return this._showIntermediateTotal},set:function(t){t!=this._showIntermediateTotal&&(this._showIntermediateTotal=n.asBoolean(t,!1),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"intermediateTotalPositions",{get:function(){return this._intermediateTotalPositions},set:function(t){t!=this._intermediateTotalPositions&&(this._intermediateTotalPositions=n.asArray(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"intermediateTotalLabels",{get:function(){return this._intermediateTotalLabels},set:function(t){t!=this._intermediateTotalLabels&&(n.assert(t==null||n.isArray(t)||n.isString(t),'Array or string expected.'),this._intermediateTotalLabels=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"connectorLines",{get:function(){return this._connectorLines},set:function(t){t!=this._connectorLines&&(this._connectorLines=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"styles",{get:function(){return this._styles},set:function(n){n!=this._styles&&(this._styles=n,this._invalidate())},enumerable:!0,configurable:!0}),r.prototype.getValues=function(t){var v=this,l=[],u,r,e,o,h,s=0,c;if(u=i.prototype.getValues.call(this,t),t===0){if(!this._yValues){var l=[],a=0,f=0,h=u&&u.length||0;if(this.relativeData){for(;f<h;f++)a+=isNaN(u[f])?0:u[f],l.push(a);this._yValues=l}else{for(;f<h;f++)a=isNaN(u[f])?0:u[f],l.push(a);this._yValues=l}r=this._yValues;r&&r.length>0&&(this.showIntermediateTotal&&this.intermediateTotalPositions&&this.intermediateTotalPositions.length>0&&(this._intermediateTotalPos=r.slice(),this.intermediateTotalPositions.reduceRight(function(n,t){var i=t===0?r[0]:r[t-1];return r.length>t?(r.splice(t,0,i),v._intermediateTotalPos.splice(t,0,!0)):r.length===t&&(r.push(i),v._intermediateTotalPos.push(!0)),0},0)),this.start!=null&&(r.splice(0,0,this.start),this._intermediateTotalPos.splice(0,0,!1)),this.showTotal&&r&&r.push(r[r.length-1]))}return this._yValues}return!this._xValues&&this._getXValues&&(this._xValues=u&&u.slice(),this._getXValues=!1,this._xValues&&this._xValues.length>1&&(h=this._xValues.length,o=this._xValues[h-1],s=Math.abs(this._xValues[h-1]-this._xValues[h-2])),this.chart&&this.chart._xlabels&&this.chart._xlabels.length&&(e=this.chart._xlabels,this.showIntermediateTotal&&this.intermediateTotalPositions&&this.intermediateTotalPositions.length>0&&(c=this.intermediateTotalLabels,c&&this.intermediateTotalPositions.reduceRight(function(t,i,r){var u='';return u=n.isString(c)?c:c[r]||'',e.length>i?e.splice(i,0,u):e.length===i&&e.push(u),s&&(o+=s,v._xValues.push(o)),0},0)),this.start!=null&&(e.splice(0,0,this.startLabel),s&&(o+=s,this._xValues.push(o))),this.showTotal&&(e.push(this.totalLabel),s&&(o+=s,this._xValues.push(o))))),this._xValues},r.prototype.legendItemLength=function(){return this.showTotal?3:2},r.prototype.measureLegendItem=function(t,i){var r=this._getName(i);return r?this._measureLegendItem(t,r):new n.Size(0,0)},r.prototype.drawLegendItem=function(n,i,r){var u=this._getLegendStyles(r),f=this._getName(r);f&&this._drawLegendItem(n,i,t.ChartType.Bar,this._getName(r),u,this.symbolStyle)},r.prototype._clearValues=function(){i.prototype._clearValues.call(this);this._xValues=null;this._yValues=null;this._wfstyle=null;this._getXValues=!0;this._intermediateTotalPos=[];this.chart&&this.chart._performBind()},r.prototype._invalidate=function(){i.prototype._invalidate.call(this);this._clearValues()},r.prototype._rendering=function(n,t){var i=this;t.cancel=!0;this._wfstyle=null;var c=this.chart,l=this._getAxisY(),v=this._getAxisX(),y=l.origin||0,e=t.engine,u,o,a,f,s,h;if(this._barPlotter=c._getPlotter(this),a=this._barPlotter.rotated,this._barPlotter._getSymbolOrigin||(this._barPlotter._getSymbolOrigin=function(n,t,r){return t===0?n:i._intermediateTotalPos[t]===!0?n:t===r-1&&i.showTotal?n:i._yValues[t-1]}),this._barPlotter._getSymbolStyles||(this._barPlotter._getSymbolStyles=function(n,t){var r=i._getStyles();return n===0&&i.start!=null?r.start:i._intermediateTotalPos[n]===!0?r.intermediateTotal:n===t-1&&i.showTotal?r.total:i._yValues[n]<i._yValues[n-1]?r.falling:r.rising}),this._barPlotter.plotSeries(e,v,l,n,c,0,1),this.connectorLines){for(e.startGroup(r.CSS_CONNECTOR_LINE_GROUP),f=this._barPlotter.hitTester._map[0],h=this._yValues[0]<y,s=f[0].rect,u=1,o=f.length;u<o;u++)(this._intermediateTotalPos[u]!==!0||u===o-1)&&(this._drawConnectorLine(e,a,s,f[u].rect,h),s=f[u].rect,h=this._yValues[u]<this._yValues[u-1]);e.endGroup()}},r.prototype._getStyles=function(){if(this._wfstyle)return this._wfstyle;var u=this._chart,r=u.series.indexOf(this),t=this._getSymbolFill(r),i=this._getSymbolStroke(r),n=this.styles||{};return this._wfstyle={start:this._getStyleByKey(n,'start',t,i),intermediateTotal:this._getStyleByKey(n,'intermediateTotal',t,i),total:this._getStyleByKey(n,'total',t,i),falling:this._getStyleByKey(n,'falling','red','red'),rising:this._getStyleByKey(n,'rising','green','green')},this._wfstyle},r.prototype._getStyleByKey=function(n,t,i,r){return{fill:n[t]&&n[t].fill?n[t].fill:i,stroke:n[t]&&n[t].stroke?n[t].stroke:r}},r.prototype._drawConnectorLine=function(t,i,u,f,e){var o=new n.Point,s=new n.Point,h=this.chart.axisY.reversed,c=this.chart.axisX.reversed;h=h^e;i?(h?(o.x=u.left,s.x=u.left):(o.x=u.left+u.width,s.x=u.left+u.width),c?(o.y=u.top,s.y=f.top+f.height):(o.y=u.top+u.height,s.y=f.top)):(h?(o.y=u.top+u.height,s.y=u.top+u.height):(o.y=u.top,s.y=u.top),c?(o.x=u.left+u.width,s.x=f.left):(o.x=u.left,s.x=f.left+f.width));t.drawLine(o.x,o.y,s.x,s.y,r.CSS_CONNECTOR_LINE,this.styles&&this.styles.connectorLines||{stroke:'black'})},r.prototype._getLegendStyles=function(n){if(n<0||this.styles===null)return null;var t=this._getStyles();return n===0?t.rising:n===1?t.falling:t.total},r.prototype._getName=function(n){var i=undefined,t;return this.name&&(this.name.indexOf(",")?(t=this.name.split(","),t&&t.length-1>=n&&(i=t[n].trim())):i=this.name),i},r}(t.SeriesBase);r.CSS_CONNECTOR_LINE_GROUP='water-fall-connector-lines';r.CSS_CONNECTOR_LINE='water-fall-connector-line';r.CSS_ENDLABEL='water-fall-end-label';i.Waterfall=r})(i=t.analytics||(t.analytics={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){'use strict';var r,f,u;(function(n){n[n.InclusiveMedian=0]="InclusiveMedian";n[n.ExclusiveMedian=1]="ExclusiveMedian"})(r=i.QuartileCalculation||(i.QuartileCalculation={}));f=function(i){function f(n){var u=i.call(this)||this;return u._groupWidth=.8,u._gapWidth=.1,u._showInnerPoints=!1,u._showOutliers=!1,u._quartileCalculation=r.InclusiveMedian,u._chartType=t.ChartType.Bar,u.rendering.addHandler(u._rendering,u),u.initialize(n),u}return __extends(f,i),f.prototype._initProperties=function(t){t&&n.copy(this,t)},f.prototype._clearValues=function(){i.prototype._clearValues.call(this)},Object.defineProperty(f.prototype,"quartileCalculation",{get:function(){return this._quartileCalculation},set:function(t){t!=this._quartileCalculation&&(this._quartileCalculation=n.asEnum(t,r,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"groupWidth",{get:function(){return this._groupWidth},set:function(t){t!=this._groupWidth&&t>=0&&t<=1&&(this._groupWidth=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"gapWidth",{get:function(){return this._gapWidth},set:function(t){t!=this._gapWidth&&t>=0&&t<=1&&(this._gapWidth=n.asNumber(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"showMeanLine",{get:function(){return this._showMeanLine},set:function(t){t!=this._showMeanLine&&(this._showMeanLine=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"meanLineStyle",{get:function(){return this._meanLineStyle},set:function(n){n!=this._meanLineStyle&&(this._meanLineStyle=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"showMeanMarker",{get:function(){return this._showMeanMarker},set:function(t){t!=this._showMeanMarker&&(this._showMeanMarker=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"meanMarkerStyle",{get:function(){return this._meanMarkerStyle},set:function(n){n!=this._meanMarkerStyle&&(this._meanMarkerStyle=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"showInnerPoints",{get:function(){return this._showInnerPoints},set:function(t){t!=this._showInnerPoints&&(this._showInnerPoints=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"showOutliers",{get:function(){return this._showOutliers},set:function(t){t!=this._showOutliers&&(this._showOutliers=n.asBoolean(t,!0),this._invalidate())},enumerable:!0,configurable:!0}),f.prototype._rendering=function(i,r){var fi=this,gt,a,pt,ni,ti,e,g,s,f,at,vt;r.cancel=!0;var v=this,ut=v.chart,pi=v.chart,c=v._getAxisX(),o=v._getAxisY(),ot=r.index,ui=r.count,y=r.engine,p=this._plotter,tt=ut.series.indexOf(v),kt=n.asType(v,t.SeriesBase),ei=this.quartileCalculation,oi=this.showOutliers,st=this.groupWidth,si=(this.gapWidth==null?.2:this.gapWidth)/2,it,rt;ot=ot||0;ui=ui||1;var yt=st/ui,dt=v.getValues(0),nt=v.getValues(1);if(dt){nt||(nt=p.dataInfo.getXVals());nt&&(gt=p.dataInfo.getDeltaX(),gt>0&&(st*=gt,yt*=gt));var ft=kt._getSymbolFill(tt),ht=kt._getAltSymbolFill(tt)||ft,et=kt._getSymbolStroke(tt),ct=kt._getAltSymbolStroke(tt)||et,lt=dt.length;if(nt!=null&&(lt=Math.min(lt,nt.length)),a=0,pt=0,p.rotated){a=c.origin||a;a<c.actualMin?a=c.actualMin:a>c.actualMax&&(a=c.actualMax);var hi=c.convert(a),vi=o.actualMin,yi=o.actualMax;for(e=0;e<lt;e++){if(g=nt?nt[e]:e,s=dt[e],s==null||s.length===0)return;if(p._getSymbolOrigin&&(hi=o.convert(p._getSymbolOrigin(a,e))),p._getSymbolStyles&&(f=p._getSymbolStyles(e),ft=f&&f.fill?f.fill:ft,ht=f&&f.fill?f.fill:ht,et=f&&f.stroke?f.fill:et,ct=f&&f.stroke?f.fill:ct),ni=s[0]>0?ft:ht,ti=s[0]>0?et:ct,y.fill=ni,y.stroke=ti,t._DataInfo.isValid(g)&&n.isArray(s)&&s.length>0&&t._DataInfo.isValid(s[0])){var k=g-.5*st+ot*yt,d=g-.5*st+(ot+1)*yt,ii=(d-k)*si;if(k+=ii,d-=ii,k<vi&&d<vi||k>yi&&d>yi)continue;k=o.convert(k);d=o.convert(d);var l=new u(s,ei,oi),h={min:c.convert(l.min),max:c.convert(l.max),firstQuartile:c.convert(l.firstQuartile),median:c.convert(l.median),thirdQuartile:c.convert(l.thirdQuartile),mean:c.convert(l.mean),outlierPoints:this._convertPoints(l.outlierPoints,c),innerPoints:this._convertPoints(l.innerPoints,c)},ai=new n.Rect(Math.min(h.min,h.max),Math.min(k,d),Math.abs(h.max-h.min),Math.abs(d-k)),ri=new t._RectArea(ai),bt={min:Math.min(k,d),median:(k+d)/2,max:Math.max(d,k)};ut.itemFormatter?(y.startGroup(),at=new t.HitTestInfo(ut,new n.Point((h.min+h.max)/2,bt.median),t.ChartElement.SeriesSymbol),at._setData(v,e),ut.itemFormatter(y,at,function(){fi._drawBoxWhisker(y,h,bt,it,rt,v);it=h;rt=bt}),y.endGroup()):(this._drawBoxWhisker(y,h,bt,it,rt,v),it=h,rt=bt);v._setPointIndex(e,pt);pt++;vt=new t._DataPoint(tt,e,s,g);vt.item=l;ri.tag=vt;p.hitTester.add(ri,tt)}}}else{a=o.origin||a;a<o.actualMin?a=o.actualMin:a>o.actualMax&&(a=o.actualMax);var hi=o.convert(a),ci=c.actualMin,li=c.actualMax;for(e=0;e<lt;e++){if(g=nt?nt[e]:e,s=dt[e],s==null||s.length===0)return;if(p._getSymbolOrigin&&(hi=o.convert(p._getSymbolOrigin(a,e,lt))),p._getSymbolStyles&&(f=p._getSymbolStyles(e,lt),ft=f&&f.fill?f.fill:ft,ht=f&&f.fill?f.fill:ht,et=f&&f.stroke?f.stroke:et,ct=f&&f.stroke?f.stroke:ct),ni=s[0]>0?ft:ht,ti=s[0]>0?et:ct,y.fill=ni,y.stroke=ti,t._DataInfo.isValid(g)&&n.isArray(s)&&s.length>0&&t._DataInfo.isValid(s[0])){var w=g-.5*st+ot*yt,b=g-.5*st+(ot+1)*yt,ii=(b-w)*si;if(w+=ii,b-=ii,w<ci&&b<ci||w>li&&b>li)continue;if(w=c.convert(w),b=c.convert(b),!t._DataInfo.isValid(w)||!t._DataInfo.isValid(b))continue;var l=new u(s,ei,oi),h={min:o.convert(l.min),max:o.convert(l.max),firstQuartile:o.convert(l.firstQuartile),median:o.convert(l.median),thirdQuartile:o.convert(l.thirdQuartile),mean:o.convert(l.mean),outlierPoints:this._convertPoints(l.outlierPoints,o),innerPoints:this._convertPoints(l.innerPoints,o)},ai=new n.Rect(Math.min(w,b),Math.min(h.min,h.max),Math.abs(b-w),Math.abs(h.max-h.min)),ri=new t._RectArea(ai),wt={min:Math.min(w,b),median:(w+b)/2,max:Math.max(w,b)};ut.itemFormatter?(y.startGroup(),at=new t.HitTestInfo(ut,new n.Point(wt.median,(h.min+h.max)/2),t.ChartElement.SeriesSymbol),at._setData(v,e),ut.itemFormatter(y,at,function(){fi._drawBoxWhisker(y,wt,h,it,rt,v);it=wt;rt=h}),y.endGroup()):(this._drawBoxWhisker(y,wt,h,it,rt,v),it=wt,rt=h);v._setPointIndex(e,pt);pt++;vt=new t._DataPoint(tt,e,g,s);vt.item=l;ri.tag=vt;p.hitTester.add(ri,tt)}}}}},f.prototype._convertPoints=function(n,t){return n.map(function(n){return t.convert(n)})},f.prototype._drawBoxWhisker=function(n,t,i,r,u,f){var e=f.symbolStyle,h=this.showInnerPoints,c=this.showOutliers,l=this.showMeanLine,a=this.meanLineStyle,v=this.showMeanMarker,s=this.meanMarkerStyle,y=this._plotter,o;n.startGroup('box-plot');y.rotated?(n.drawLine(t.min,(i.min+i.median)/2,t.min,(i.max+i.median)/2,null,e),n.drawLine(t.min,i.median,t.firstQuartile,i.median,null,e),n.drawRect(Math.min(t.firstQuartile,t.thirdQuartile),Math.min(i.min,i.max),Math.abs(t.thirdQuartile-t.firstQuartile),Math.abs(i.max-i.min),null,e),n.drawLine(t.median,i.min,t.median,i.max,null,e),n.drawLine(t.max,i.median,t.thirdQuartile,i.median,null,e),n.drawLine(t.max,(i.min+i.median)/2,t.max,(i.max+i.median)/2,null,e),l&&r&&u&&n.drawLine(t.mean,i.median,r.mean,u.median,'box-whisker-mean-line',a||e),v&&(o=Math.abs(i.median-i.min)/2,n.drawLine(t.mean-o,i.median-o,t.mean+o,i.median+o,null,s||e),n.drawLine(t.mean+o,i.median-o,t.mean-o,i.median+o,null,s||e)),c&&t.outlierPoints.forEach(function(t){n.drawPieSegment(t,i.median,2,0,Math.PI*2,null,e)}),h&&t.innerPoints.forEach(function(t){n.drawPieSegment(t,i.median,2,0,Math.PI*2,null,e)})):(n.drawLine((t.min+t.median)/2,i.min,(t.max+t.median)/2,i.min,null,e),n.drawLine(t.median,i.min,t.median,i.firstQuartile,null,e),n.drawRect(Math.min(t.min,t.max),Math.min(i.firstQuartile,i.thirdQuartile),Math.abs(t.max-t.min),Math.abs(i.thirdQuartile-i.firstQuartile),null,e),n.drawLine(t.min,i.median,t.max,i.median,null,e),n.drawLine(t.median,i.max,t.median,i.thirdQuartile,null,e),n.drawLine((t.min+t.median)/2,i.max,(t.max+t.median)/2,i.max,null,e),l&&r&&u&&n.drawLine(t.median,i.mean,r.median,u.mean,'box-whisker-mean-line',a||e),v&&(o=Math.abs(t.median-t.min)/2,n.drawLine(t.median-o,i.mean-o,t.median+o,i.mean+o,null,s||e),n.drawLine(t.median-o,i.mean+o,t.median+o,i.mean-o,null,s||e)),c&&i.outlierPoints.forEach(function(i){n.drawPieSegment(t.median,i,2,0,Math.PI*2,null,e)}),h&&i.innerPoints.forEach(function(i){n.drawPieSegment(t.median,i,2,0,Math.PI*2,null,e)}));n.endGroup()},f.prototype._renderLabels=function(i,r,u,f){var w=this,v=this,b=this._plotter,k=r.length,s=u.dataLabel,d=s.border,h=s.offset,g=s.connectingLine,c='dataY',y,o,p;for(b.rotated&&(c='dataX'),h===undefined&&(h=g?16:0),d&&(h-=2),y=0;y<k;y++){var l=r[y],e=l.tag,a=n.asType(e,t._DataPoint,!0);a&&(o=e.item,e[c]=o.min,e.yfmt=o.min,this._plotter._renderLabel(i,l,a,u,s,v,h,f),e[c]=o.firstQuartile,e.yfmt=o.firstQuartile,this._plotter._renderLabel(i,l,a,u,s,v,h,f),e[c]=o.median,e.yfmt=o.median,this._plotter._renderLabel(i,l,a,u,s,v,h,f),e[c]=o.thirdQuartile,e.yfmt=o.thirdQuartile,this._plotter._renderLabel(i,l,a,u,s,v,h,f),e[c]=o.max,e.yfmt=o.max,this._plotter._renderLabel(i,l,a,u,s,v,h,f),this.showMeanMarker&&(p=Number(o.mean.toFixed(2)),e[c]=p,e.yfmt=p,this._plotter._renderLabel(i,l,a,u,s,v,h,f)),o.showOutliers&&o.outlierPoints&&o.outlierPoints.forEach(function(n){e[c]=n;e.yfmt=n;w._plotter._renderLabel(i,l,a,u,s,v,h,f)}))}},f}(t.SeriesBase);i.BoxWhisker=f;u=function(){function n(n,t,i){this._outlierPoints=[];this._innerPoints=[];this._data=n;this._quartileCalculation=t;this._showOutliers=i;this._parse()}return Object.defineProperty(n.prototype,"showOutliers",{get:function(){return this._showOutliers},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"min",{get:function(){return this._min},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"max",{get:function(){return this._max},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"mean",{get:function(){return this._mean},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"firstQuartile",{get:function(){return this._firstQuartile},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"thirdQuartile",{get:function(){return this._thirdQuartile},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"median",{get:function(){return this._median},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"outlierPoints",{get:function(){return this._outlierPoints},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"innerPoints",{get:function(){return this._innerPoints},enumerable:!0,configurable:!0}),n.prototype._parse=function(){var t=this,i=this._data.length,n=this._data,u=0,f,e,o;this._outlierPoints=[];this._innerPoints=[];n.sort(function(n,t){return n-t});n.some(function(n){return n==null?!1:(t._min=n,!0)});this._max=n[i-1]==null?0:n[i-1];this._quartileCalculation===r.InclusiveMedian?(this._firstQuartile=this._quartileInc(n,.25),this._median=this._quartileInc(n,.5),this._thirdQuartile=this._quartileInc(n,.75)):(this._firstQuartile=this._quartileExc(n,.25),this._median=this._quartileExc(n,.5),this._thirdQuartile=this._quartileExc(n,.75));this._iqr=1.5*Math.abs(this._thirdQuartile-this._firstQuartile);f=this._firstQuartile-this._iqr;e=this._thirdQuartile+this._iqr;this._showOutliers?(o=this._max,this._max=this._min,this._min=o,this._data.forEach(function(n){u+=n;n<f||n>e?t._outlierPoints.push(n):(n<t._min&&(t._min=n),n>t._max&&(t._max=n))})):u=this._data.reduce(function(n,t){return n+t},0);this._innerPoints=this._data.filter(function(n){if(n>t._min&&n<t._max)return!0});this._mean=u/i},n.prototype._quartileInc=function(n,t){var f=n.length,r,i,u,e;return f===1?n[0]:(r=(f-1)*t+1,i=Math.floor(r),u=n[i-1],e=r-i,u+(n[i]-u)*e)},n.prototype._quartileExc=function(n,t){var i=n.length,u,r,f,e;return i===1?n[0]:i===2?n[Math.round(t)]:(i+1)%4==0?n[(i+1)*t]:(u=(i+1)*t,r=Math.floor(u),f=n[r-1],e=u-r,f+(n[r]-f)*e)},n}();i._BoxPlot=u})(i=t.analytics||(t.analytics={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),function(n){var t;(function(t){var i;(function(i){'use strict';var r,f,u,e;(function(n){n[n.FixedValue=0]="FixedValue";n[n.Percentage=1]="Percentage";n[n.StandardDeviation=2]="StandardDeviation";n[n.StandardError=3]="StandardError";n[n.Custom=4]="Custom"})(r=i.ErrorAmount||(i.ErrorAmount={})),function(n){n[n.Cap=0]="Cap";n[n.NoCap=1]="NoCap"}(f=i.ErrorBarEndStyle||(i.ErrorBarEndStyle={})),function(n){n[n.Both=0]="Both";n[n.Minus=1]="Minus";n[n.Plus=2]="Plus"}(u=i.ErrorBarDirection||(i.ErrorBarDirection={}));e=function(t){function i(n){var i=t.call(this)||this;return i._errorAmount=r.FixedValue,i._endStyle=f.Cap,i._direction=u.Both,i.rendering.addHandler(i._rendering,i),i.initialize(n),i}return __extends(i,t),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(n){n!=this._value&&(this._value=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"errorAmount",{get:function(){return this._errorAmount},set:function(t){t=n.asEnum(t,r,!0);t!=this._errorAmount&&(this._errorAmount=t,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"errorBarStyle",{get:function(){return this._errorBarStyle},set:function(n){n!=this._errorBarStyle&&(this._errorBarStyle=n,this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"endStyle",{get:function(){return this._endStyle},set:function(t){t!=this._endStyle&&(this._endStyle=n.asEnum(t,f,!0),this._invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"direction",{get:function(){return this._direction},set:function(t){t!=this._direction&&(this._direction=n.asEnum(t,u,!0),this._invalidate())},enumerable:!0,configurable:!0}),i.prototype.getDataRect=function(t){var l,u,o,c,f,e,i;if(!t)return null;var y=this._chart,a=this.errorAmount,s=0,h=0,v;if(this._paddings=[],this._calculateErrorValue(),l=this.getValues(0),!l)return t;for(c=0,v=l.length;c<v;c++){e={plus:0,minus:0};i=this._value||0;f=l[c];switch(a){case r.Custom:e=this._getCustomValue(c);this._paddings.push(e);break;case r.FixedValue:this._paddings.push({plus:i,minus:i});break;case r.Percentage:this._paddings.push({plus:f*i,minus:f*i});break;case r.StandardDeviation:this._paddings.push({plus:this._errorValue*i,minus:this._errorValue*i});break;case r.StandardError:this._paddings.push({plus:this._errorValue,minus:this._errorValue})}(isNaN(u)||u>f-e.minus)&&(u=f-e.minus);(isNaN(o)||o<f+e.plus)&&(o=f+e.plus)}switch(a){case r.FixedValue:s=i;h=i;break;case r.Percentage:s=u*i;h=o*i;break;case r.StandardDeviation:s=this._errorValue*i;h=this._errorValue*i;break;case r.StandardError:s=this._errorValue;h=this._errorValue}return this._showPlus&&(o+=h),this._showMinus&&(u-=s),new n.Rect(t.left,u,t.width,o-u)},i.prototype._getCustomValue=function(t){var r=this.value,i={minus:0,plus:0},u;return this._minusBindingValues!=null||this._plusBindingValues!=null?(i.minus=this._minusBindingValues&&this._minusBindingValues[t]||0,i.plus=this._plusBindingValues&&this._plusBindingValues[t]||0,i):r==null?i:(n.isArray(r)?(u=r[t],u&&u.minus&&(i.minus=u.minus),u&&u.plus&&(i.plus=u.plus)):n.isNumber(r)?(i.minus=r,i.plus=r):(r.minus&&(i.minus=r.minus),r.plus&&(i.plus=r.plus)),i)},i.prototype._calculateErrorValue=function(){var n=0,t=0,u=0,i;(this._errorAmount===r.StandardDeviation||this._errorAmount===r.StandardError)&&(i=this.getValues(0),i!=null&&(i.forEach(function(i){n+=i;t++}),u=n/t,this._mean=u,n=0,i.forEach(function(t){n+=Math.pow(t-u,2)}),this._errorValue=Math.sqrt(n/(t-1))),this._errorAmount==r.StandardError&&(this._errorValue=this._errorValue/Math.sqrt(t)))},i.prototype._clearValues=function(){this.__errorValue=null;this._mean=null;this._plusBindingValues=null;this._minusBindingValues=null;t.prototype._clearValues.call(this)},i.prototype.getValues=function(n){var i,u,f,e;return n==0&&this.errorAmount===r.Custom&&(i=this._getBinding(1),u=this._getBinding(2),(this._plusBindingValues==null||this._minusBindingValues==null)&&i&&u&&(this._cv!=null?(i&&(f=this._bindValues(this._cv.items,i),this._plusBindingValues=f.values),u&&(e=this._bindValues(this._cv.items,u),this._minusBindingValues=e.values)):this.binding!=null&&this._chart!=null&&this._chart.collectionView!=null&&(i&&(f=this._bindValues(this._chart.collectionView.items,i),this._plusBindingValues=f.values),u&&(e=this._bindValues(this._chart.collectionView.items,u),this._minusBindingValues=e.values)))),t.prototype.getValues.call(this,n)},Object.defineProperty(i.prototype,"_chart",{get:function(){return this.__chart},set:function(n){n!==this.__chart&&(this.__chart=n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_errorValue",{get:function(){return this.__errorValue},set:function(n){n!=this.__errorValue&&(this.__errorValue=n)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_showPlus",{get:function(){return this.direction===u.Both||this.direction===u.Plus},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_showMinus",{get:function(){return this.direction===u.Both||this.direction===u.Minus},enumerable:!0,configurable:!0}),i.prototype._rendering=function(t,i){var u=this;i.cancel=!0;var s=this.chart,o=this._getAxisY(),h=this._getAxisX(),c=o.origin||0,e=i.engine;this._plotter.plotSeries(e,h,o,this,s,i.index,i.count,function(t){var k=u._paddings,v=u._showPlus,y=u._showMinus,l=s._isRotated(),i=u.errorBarStyle&&u.errorBarStyle['stroke-width']||2,p,c,a,w,b;c=l?h:o;a=c.actualMax;p=c.convert(a);w=e.stroke;b=e.strokeWidth;e.stroke='black';e.strokeWidth=1;t&&t.length&&t.forEach(function(t,o){if(t.x!=null&&t.y!=null){var w=k[o],g=w&&w.minus||0,nt=w&&w.plus||0,b=Math.abs(c.convert(a-g)-p),d=Math.abs(c.convert(a+nt)-p),s=new n.Point(t.x,t.y),h=new n.Point(t.x,t.y);l?(u.errorAmount===r.StandardDeviation&&(t=new n.Point(c.convert(u._mean),t.y),s.x=t.x,h.x=t.x),y&&(s.x=s.x-b),v&&(h.x=h.x+d)):(u.errorAmount===r.StandardDeviation&&(t=new n.Point(t.x,c.convert(u._mean)),s.y=t.y,h.y=t.y),y&&(s.y=s.y+b),v&&(h.y=h.y-d));e.drawLine(s.x,s.y,h.x,h.y,'error-bar',u.errorBarStyle);u.endStyle===f.Cap&&(v&&(l?e.drawLine(h.x,h.y-i,h.x,h.y+i,'error-bar',u.errorBarStyle):e.drawLine(h.x-i,h.y,h.x+i,h.y,'error-bar',u.errorBarStyle)),y&&(l?e.drawLine(s.x,s.y-i,s.x,s.y+i,'error-bar',u.errorBarStyle):e.drawLine(s.x-i,s.y,s.x+i,s.y,'error-bar',u.errorBarStyle)))}});e.stroke=w;e.strokeWidth=b})},i}(t.Series);i.ErrorBar=e})(i=t.analytics||(t.analytics={}))})(t=n.chart||(n.chart={}))}(wijmo||(wijmo={}))