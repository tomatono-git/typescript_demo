/*
    *
    * Wijmo Library 5.20172.359
    * http://wijmo.com/
    *
    * Copyright(c) GrapeCity, Inc.  All rights reserved.
    *
    * Licensed under the GrapeCity Commercial License.
    * sales@wijmo.com
    * wijmo.com/products/wijmo-5/license/
    *
    */
var wijmo;(function(n){var t;(function(t){var i;(function(i){'use strict';var f=function(){function i(n,i){i===void 0&&(i=!1);this._strokeWidth=1;this._fontSize=null;this._fontFamily=null;this._applyCanvasClip=function(n,t){var i=this._canvasRect[t];i&&(n.beginPath(),n.rect(i.left,i.top,i.width,i.height),n.clip(),n.closePath())};this._applyCanvasStyles=function(n,t,i,r,u){var e=this,o=e._canvas.getContext('2d'),s,f,l,c=e.stroke,h=e.fill,a=e.strokeWidth;t&&t.stroke!==undefined&&(c=t.stroke);t&&t.fill!==undefined&&(h=e._getOpacityColor(t.fill,t['fill-opacity']));n&&(f=window.getComputedStyle(n),l=n.getBBox());u?f?(o.fillStyle=f.fill,s=f.fontStyle+' '+f.fontSize+' '+f.fontFamily,o.font=s,o.font.replace(/\"/g,"'")!==s.replace(/\"/g,"'")&&(s=f.fontStyle+' '+f.fontSize+' '+(o.font.split(' ')[1]||'sans-serif'),o.font=s)):e.fontSize?(o.fillStyle=e.textFill,o.font=e.fontSize+' '+(e.fontFamily||'sans-serif')):e._canvasDefaultFont&&(o.fillStyle=e._canvasDefaultFont.textFill,s=e._canvasDefaultFont.fontSize+' '+e._canvasDefaultFont.fontFamily,o.font=s,o.font.replace(/\"/g,"'")!==s.replace(/\"/g,"'")&&(s=e._canvasDefaultFont.fontSize+' '+(o.font.split(' ')[1]||'sans-serif'),o.font=s)):(f&&(c=f.stroke&&f.stroke!=='none'?f.stroke:c,h=f.fill&&f.fill!=='none'?e._getOpacityColor(f.fill,f['fill-opacity']):h,a=f.strokeWidth?f.strokeWidth:a),c!=='none'&&c!=null&&(this._applyColor('strokeStyle',c,l),o.lineWidth=+a.replace(/px/g,''),o.stroke()),r&&h!=null&&h!=='transparent'&&h!=='none'&&(this._applyColor('fillStyle',h,l),o.fill()))};var r=this;r._element=n;r._canvas=document.createElement('canvas');r._svgEngine=new t._SvgRenderEngine(n);r._element.appendChild(r._canvas);r._applyCSSStyles=i}return i.prototype.beginRender=function(){var n=this,i=n._svgEngine.element,r=n._element,t;n._applyCSSStyles&&(n._svgEngine.beginRender(),r=i);n._element.appendChild(i);n._canvasRect={};t=window.getComputedStyle(r);n._canvasDefaultFont={fontSize:t.fontSize,fontFamily:t.fontFamily,textFill:t.color}},i.prototype.endRender=function(){this._applyCSSStyles&&this._svgEngine.endRender();this._svgEngine.element.parentNode.removeChild(this._svgEngine.element)},i.prototype.setViewportSize=function(n,t){var i=this,r=i._canvas,o=r.getContext('2d'),e=i.fill,u,f;i._applyCSSStyles&&i._svgEngine.setViewportSize(n,t);r.width=n;r.height=t;u=window.getComputedStyle(i._element).backgroundColor;f=i.stroke;u&&(i.stroke=null,i.fill=u,i.drawRect(0,0,n,t),i.fill=e,i.stroke=f)},Object.defineProperty(i.prototype,"element",{get:function(){return this._canvas},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fill",{get:function(){return this._fill},set:function(n){this._svgEngine.fill=n;this._fill=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontSize",{get:function(){return this._fontSize},set:function(n){this._svgEngine.fontSize=n;var t=n==null||isNaN(n)?n:n+'px';this._fontSize=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(n){this._svgEngine.fontFamily=n;this._fontFamily=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stroke",{get:function(){return this._stroke},set:function(n){this._svgEngine.stroke=n;this._stroke=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(n){this._svgEngine.strokeWidth=n;this._strokeWidth=n},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textFill",{get:function(){return this._textFill},set:function(n){this._svgEngine.textFill=n;this._textFill=n},enumerable:!0,configurable:!0}),i.prototype.addClipRect=function(n,t){n&&t&&(this._applyCSSStyles&&this._svgEngine.addClipRect(n,t),this._canvasRect[t]=n)},i.prototype.drawEllipse=function(n,t,i,r,u,f){var o,e=this._canvas.getContext('2d');return this._applyCSSStyles&&(o=this._svgEngine.drawEllipse(n,t,i,r,u,f)),e.save(),e.beginPath(),e.ellipse?e.ellipse(n,t,i,r,0,0,2*Math.PI):(e.translate(n,t),e.scale(1,r/i),e.translate(-n,-t),e.arc(n,t,i,0,2*Math.PI),e.scale(1,1)),this._applyCanvasStyles(o,f,u,!0),e.restore(),o},i.prototype.drawRect=function(n,t,i,r,u,f,e){var s,o=this._canvas.getContext('2d');return this._applyCSSStyles&&(s=this._svgEngine.drawRect(n,t,i,r,u,f,e)),o.save(),this._applyCanvasClip(o,e),o.beginPath(),o.rect(n,t,i,r),this._applyCanvasStyles(s,f,u,!0),o.restore(),s},i.prototype.drawLine=function(n,t,i,r,u,f){var o,e=this._canvas.getContext('2d');return this._applyCSSStyles&&(o=this._svgEngine.drawLine(n,t,i,r,u,f)),e.save(),e.beginPath(),e.moveTo(n,t),e.lineTo(i,r),this._applyCanvasStyles(o,f,u),e.restore(),o},i.prototype.drawLines=function(n,t,i,r,u){if(n&&t&&n.length!==0&&t.length!==0){var f=this._canvas.getContext('2d'),s=Math.min(n.length,t.length),o,e;for(this._applyCSSStyles&&(o=this._svgEngine.drawLines([0,1],[1,0],i,r,u)),f.save(),this._applyCanvasClip(f,u),f.beginPath(),f.moveTo(n[0],t[0]),e=1;e<s;e++)f.lineTo(n[e],t[e]);return this._applyCanvasStyles(o,r,i),f.restore(),o}},i.prototype.drawSplines=function(n,i,r,u,f){if(n&&i&&n.length!==0&&i.length!==0){var e=this._canvas.getContext('2d'),a=new t._Spline(n,i),l=a.calculate(),s=l.xs,h=l.ys,v=Math.min(s.length,h.length),c,o;for(this._applyCSSStyles&&(c=this._svgEngine.drawSplines([0,1],[1,0],r,u,f)),e.save(),this._applyCanvasClip(e,f),e.beginPath(),e.moveTo(s[0],h[0]),o=1;o<v;o++)e.lineTo(s[o],h[o]);return this._applyCanvasStyles(c,u,r),e.restore(),c}},i.prototype.drawPolygon=function(n,t,i,r,u){if(n&&t&&n.length!==0&&t.length!==0){var f=this._canvas.getContext('2d'),s=Math.min(n.length,t.length),o,e;for(this._applyCSSStyles&&(o=this._svgEngine.drawPolygon(n,t,i,r,u)),f.save(),this._applyCanvasClip(f,u),f.beginPath(),f.moveTo(n[0],t[0]),e=1;e<s;e++)f.lineTo(n[e],t[e]);return f.closePath(),this._applyCanvasStyles(o,r,i,!0),f.restore(),o}},i.prototype.drawPieSegment=function(n,t,i,r,u,f,e,o){var h,s=this._canvas.getContext('2d'),c=r,l=r+u;return this._applyCSSStyles&&(h=this._svgEngine.drawPieSegment(n,t,i,r,u,f,e,o)),s.save(),this._applyCanvasClip(s,o),s.beginPath(),s.moveTo(n,t),s.arc(n,t,i,c,l,!1),s.lineTo(n,t),this._applyCanvasStyles(h,e,f,!0),s.restore(),h},i.prototype.drawDonutSegment=function(t,i,r,u,f,e,o,s,h){var c=this._canvas.getContext('2d'),v=f,y=f+e,p,l,a;return this._applyCSSStyles&&(p=this._svgEngine.drawDonutSegment(t,i,r,u,f,e,o,s,h)),l=new n.Point(t,i),l.x+=u*Math.cos(v),l.y+=u*Math.sin(v),a=new n.Point(t,i),a.x+=u*Math.cos(y),a.y+=u*Math.sin(y),c.save(),this._applyCanvasClip(c,h),c.beginPath(),c.moveTo(l.x,l.y),c.arc(t,i,r,v,y,!1),c.lineTo(a.x,a.y),c.arc(t,i,u,y,v,!0),this._applyCanvasStyles(p,s,o,!0),c.restore(),p},i.prototype.drawString=function(n,t,i,r){var f,u=this._canvas.getContext('2d');return this._applyCSSStyles&&(f=this._svgEngine.drawString(n,t,i,r)),u.save(),u.textBaseline='bottom',this._applyCanvasStyles(f,r,i,!0,!0),u.fillText(n,t.x,t.y),u.restore(),f},i.prototype.drawStringRotated=function(n,t,i,r,u,f){var o,e=this._canvas.getContext('2d'),s=e.measureText(n);return this._applyCSSStyles&&(o=this._svgEngine.drawStringRotated(n,t,i,r,u,f)),e.save(),e.textBaseline='bottom',e.translate(i.x,i.y),e.rotate(Math.PI/180*r),e.translate(-i.x,-i.y),this._applyCanvasStyles(o,f,u,!0,!0),e.fillText(n,t.x,t.y),e.restore(),o},i.prototype.measureString=function(t,i,r,u){var f=f=this._canvas.getContext('2d'),e;return this._applyCSSStyles?this._svgEngine.measureString(t,i,r,u):(this._applyCanvasStyles(null,null,i,!0,!0),e=f.measureText(t).width,new n.Size(e,parseInt(f.font)*1.5))},i.prototype.startGroup=function(n,t,i){i===void 0&&(i=!1);var r,u=this._canvas.getContext('2d');return this._applyCSSStyles&&(r=this._svgEngine.startGroup(n,t,i)),u.save(),this._applyCanvasClip(u,t),r},i.prototype.endGroup=function(){this._applyCSSStyles&&this._svgEngine.endGroup();this._canvas.getContext('2d').restore()},i.prototype.drawImage=function(n,t,i,r,u){var e,o=this._canvas.getContext('2d'),f=new Image;return this._applyCSSStyles&&(e=this._svgEngine.drawImage(n,t,i,r,u)),f.onload=function(){o.drawImage(f,t,i,r,u)},f.src=n,e},i.prototype._getOpacityColor=function(t,i){var r=new n.Color(t);return t.indexOf('url')>-1?this.fill:t.indexOf('-')>-1?(this.fill=t,t):(i!=null&&r.a===1&&(r.a=isNaN(i)?1:Number(i)),r.toString())},i.prototype._applyColor=function(t,i,u){var f=r.tryParse(i),e=this._canvas.getContext('2d'),o,c,l;if(f!=null)if(n.isString(f)||u==null)e[t]=f;else{if(c=void 0,l=void 0,f.x1!=null)o=f.relative?e.createLinearGradient(u.x+f.x1*u.width,u.y+f.y1*u.height,u.x+f.x2*u.width,u.y+f.y2*u.height):e.createLinearGradient(f.x1,f.y1,f.x2,f.y2);else if(f.r!=null)if(f.relative){var a=u.x+f.cx*u.width,v=u.y+f.cy*u.height,h=f.r*u.width,y=f.r*u.height,s=y/h,p=u.x+(f.fx==null?f.cx:f.fx)*u.width,w=u.y+(f.fy==null?f.cy:f.fy)*u.height,b=(f.fr==null?0:f.fr)*u.width,k=(f.fr==null?0:f.fr)*u.height,d=Math.min(b,k);o=e.createRadialGradient(p,w/s,d,a,v/s,h);e.setTransform(1,0,0,s,0,0)}else o=e.createRadialGradient(f.fx==null?f.cx:f.fx,f.fy==null?f.cy:f.fy,f.fr||0,f.cx,f.cy,f.r);f.colors&&f.colors.length>0&&o!=null&&f.colors.forEach(function(t){var i=new n.Color('#000000');t.color!=null&&(i=t.color);t.opacity!=null&&(i.a=t.opacity);o.addColorStop(t.offset,i.toString())});e[t]=o}},i}(),r,u;i._CanvasRenderEngine=f;r=function(){function t(){}return t.tryParse=function(i){var s;if(t.parsedColor[i])return t.parsedColor[i];if(i==null||i.indexOf('-')===-1)return i;var e=i.replace(/\s+/g,'').split(/\-/g),u=e[0][0],o=!1,r,f=e[0].match(/\(\S+\)/)[0].replace(/[\(\\)]/g,'').split(/\,/g);return u==='l'||u==='L'?(r={x1:'0',y1:'0',x2:'0',y2:'0',colors:[]},u==='l'&&(o=!0),['x1','y1','x2','y2'].forEach(function(n,t){f[t]!=null&&(r[n]=+f[t])})):(u==='r'||u==='R')&&(r={cx:'0',cy:'0',r:'0',colors:[]},u==='r'&&(o=!0),['cx','cy','r','fx','fy','fr'].forEach(function(n,t){f[t]!=null&&f[t]!==''&&(r[n]=+f[t])})),r.relative=o,t.parsedColor[i]=r,s=e.length-1,e.forEach(function(t,i){t.indexOf(')')>-1&&(t=t.match(/\)\S+/)[0].replace(')',''));var u=t.split(':'),f={color:new n.Color('#000000')};u[0]!=null&&(f.color=n.Color.fromString(u[0]));f.offset=u[1]!=null?+u[1]:i/s;u[2]!=null&&(f.opacity=+u[2]);r.colors.push(f)}),r},t}();r.parsedColor={};n.chart.FlexChartBase&&n.chart.FlexChartBase.prototype&&n.chart.FlexChartBase.prototype._exportToImage&&(u=n.chart.FlexChartBase.prototype._exportToImage,n.chart.FlexChartBase.prototype._exportToImage=function(t,i){if(t==='svg'){u.call(this,t,i);return}var f=new n.chart.render._CanvasRenderEngine(this.hostElement,!0),o=this.rendered,e,r;this.rendered=new n.Event;this._render(f,!1);r=f.element;r.parentNode.removeChild(r);e=r.toDataURL('image/'+t);i.call(null,e);r=null;f=null;this.rendered=o})})(i=t.render||(t.render={}))})(t=n.chart||(n.chart={}))})(wijmo||(wijmo={}))